@{
    ViewData["Title"] = "Nuvei Success";
}
<div class="container py-5">
    <div class="mb-4 text-center">
        <h1 class="payment-title" style="font-size:2rem;">Payment Successful</h1>
        <p class="security-text" style="margin-top:-0.25rem;">Your Google Pay Nuvei transaction completed successfully.</p>
    </div>
    <div class="payment-content" style="max-width:880px; margin:0 auto;">
        <h2 class="h5 mt-2 mb-3" style="font-weight:600;">Highlighted Fields</h2>
        <div class="table-responsive mb-2">
            <table class="table table-sm table-bordered align-middle mb-0">
                <thead class="table-light"><tr><th style="width:260px;">Parameter</th><th>Value</th></tr></thead>
                <tbody>
@{
    // Prefer totalAmount; if absent fall back to total_amount. Avoid duplication.
    var raw = Context.Request.Query;
    var primary = new List<string> { "Status","merchant_unique_id","customData","totalAmount","total_amount","currency","TransactionID","cardBrand","issuerName" };
    var seenLogical = new HashSet<string>(StringComparer.OrdinalIgnoreCase);
    foreach (var k in primary)
    {
        if ((k == "total_amount" || k == "totalAmount") && seenLogical.Contains("totalAmount")) continue;
        var v = raw[k].ToString();
        if (!string.IsNullOrEmpty(v)) {
            if (k == "total_amount" || k == "totalAmount") seenLogical.Add("totalAmount");
            <tr><td>@k</td><td>@v</td></tr>;
        }
    }
}
                </tbody>
            </table>
        </div>
        <div class="mt-4 text-center">
            <a href="/Payment?paymentMethod=gpay" class="btn btn-success px-4 py-2" style="font-weight:600; border-radius:50px;">Back to GPay Nuvei</a>
        </div>
    </div>
</div>
