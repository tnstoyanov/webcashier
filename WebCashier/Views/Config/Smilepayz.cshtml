@model IDictionary<string, string?>
@{
    ViewData["Title"] = "Smilepayz Configuration";
}

<div class="container py-4">
    <h1 class="h4 mb-3">Smilepayz Configuration</h1>
    @if (TempData["Saved"] != null) { <div class="alert alert-success">Saved.</div> }
    <form asp-action="SaveSmilepayz" asp-controller="Config" method="post">
        @Html.AntiForgeryToken()
        <div class="mb-3"><label class="form-label">Endpoint</label>
            <input class="form-control" name="Smilepayz:Endpoint" value="@(Model.ContainsKey("Smilepayz:Endpoint") ? Model["Smilepayz:Endpoint"] : null)" />
        </div>
        <div class="mb-3"><label class="form-label">PartnerId</label>
            <input class="form-control" name="Smilepayz:PartnerId" value="@(Model.ContainsKey("Smilepayz:PartnerId") ? Model["Smilepayz:PartnerId"] : null)" />
        </div>
        <div class="mb-3"><label class="form-label">MerchantSecret</label>
            <input class="form-control" name="Smilepayz:MerchantSecret" value="@(Model.ContainsKey("Smilepayz:MerchantSecret") ? Model["Smilepayz:MerchantSecret"] : null)" />
        </div>
        <div class="mb-3"><label class="form-label">RSAPublicKey</label>
            <textarea class="form-control" name="Smilepayz:RSAPublicKey" rows="8" style="font-family: monospace; white-space: pre;">@(Model.ContainsKey("Smilepayz:RSAPublicKey") ? Model["Smilepayz:RSAPublicKey"] : null)</textarea>
        </div>
        <div class="mb-3"><label class="form-label">RSAPrivateKey</label>
            <textarea class="form-control" name="Smilepayz:RSAPrivateKey" rows="14" style="font-family: monospace; white-space: pre;">@(Model.ContainsKey("Smilepayz:RSAPrivateKey") ? Model["Smilepayz:RSAPrivateKey"] : null)</textarea>
        </div>
        <div class="row">
            <div class="col-md-6"><div class="mb-3"><label class="form-label">RedirectUrl</label>
                <input class="form-control" name="Smilepayz:RedirectUrl" value="@(Model.ContainsKey("Smilepayz:RedirectUrl") ? Model["Smilepayz:RedirectUrl"] : null)" />
            </div></div>
            <div class="col-md-6"><div class="mb-3"><label class="form-label">CallbackUrl</label>
                <input class="form-control" name="Smilepayz:CallbackUrl" value="@(Model.ContainsKey("Smilepayz:CallbackUrl") ? Model["Smilepayz:CallbackUrl"] : null)" />
            </div></div>
        </div>
        <div class="row">
            <div class="col-md-6"><div class="mb-3"><label class="form-label">PaymentMethod</label>
                <input class="form-control" name="Smilepayz:PaymentMethod" value="@(Model.ContainsKey("Smilepayz:PaymentMethod") ? Model["Smilepayz:PaymentMethod"] : null)" />
            </div></div>
            <div class="col-md-6"><div class="mb-3"><label class="form-label">Currency</label>
                <input class="form-control" name="Smilepayz:Currency" value="@(Model.ContainsKey("Smilepayz:Currency") ? Model["Smilepayz:Currency"] : null)" />
            </div></div>
        </div>
        <div class="mb-3"><label class="form-label">MerchantName</label>
            <input class="form-control" name="Smilepayz:MerchantName" value="@(Model.ContainsKey("Smilepayz:MerchantName") ? Model["Smilepayz:MerchantName"] : null)" />
        </div>
        <button type="submit" class="btn btn-primary">Save</button>
    </form>
</div>
